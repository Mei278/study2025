

## 1️⃣ 作业本质是什么？

你的作业要求：

> 创建服务，调用服务等，实现一个质量检验管理系统，包括：
>
> * 采购到货服务
> * 质量检验服务
> * 不合格产品提交服务
> * 维护界面

并且服务之间有依赖：

* 质量检验服务需要读取采购到货服务的数据
* 不合格产品提报服务需要读取质量检验服务的数据

---

**用一句话理解：**
这是一个 **分布式服务系统的练习**，老师希望你掌握 **微服务设计、服务间调用和数据依赖管理**，同时学会 **接口和前端交互**。

---

## 2️⃣ 核心学习目标

| 学习点         | 解释                                            | 你需要掌握的小白版理解                     |
| ----------- | --------------------------------------------- | ------------------------------- |
| **服务划分**    | 每个功能拆成独立的服务（Procurement、Inspection、Rejection） | 想象成不同的“功能房间”，每个房间负责自己的事情        |
| **数据库管理**   | 每个服务可以读写数据库，有共享的数据结构                          | 数据存在一个“仓库”，每个房间可以去拿或存东西         |
| **服务调用**    | 一个服务需要调用另一个服务的数据                              | 就像去隔壁房间拿资料，使用 HTTP 请求（GET/POST） |
| **API接口**   | 每个服务通过接口（HTTP API）与外界沟通                       | 你做的每个功能都有一个“窗口”，别人通过窗口问你问题      |
| **前端维护界面**  | 给系统做网页，让人可以操作服务                               | 给你的服务做一个“可视化面板”，用户能输入数据、查看结果    |
| **数据依赖管理**  | 质量检验依赖采购数据，不合格品依赖检验数据                         | 学会让服务按顺序“取对的数据”，理解数据流           |
| **FastAPI** | 框架帮助快速搭建 REST API 服务                          | 学会用 Python 写“小房间”并且能让别人访问       |

---

## 3️⃣ 老师希望你学会的能力

1. **微服务思想**

   * 不把所有功能都写在一个大程序里
   * 每个服务职责单一，容易维护

2. **接口设计与调用**

   * 学会写 REST API (`GET`, `POST`)
   * 学会一个服务调用另一个服务的数据

3. **数据库操作基础**

   * 创建表、增删改查（CRUD）
   * 使用 ORM（如 SQLAlchemy）管理数据

4. **前端交互**

   * 学会简单网页输入/展示数据
   * 前端和服务端通过 API 通信

5. **系统集成能力**

   * 多服务协作，完整业务流程（采购 → 检验 → 不合格品）
   * 学会调试跨服务调用和依赖问题

---

## 4️⃣ 小白入门理解

* **服务 = 小程序**，每个负责一个功能
* **数据库 = 仓库**，存放信息
* **API = 窗口**，别人用它跟服务说话
* **服务调用 = 去隔壁拿资料**
* **前端 = 仪表盘/控制台**，方便用户操作
* **作业流程 = 完整业务流程模拟**：采购到货 → 检验 → 不合格品上报

---

如果你理解了这几点，你就能把作业拆成 **四步走**：

1. 写好每个服务和数据库表
2. 写好每个服务的增删查改 API
3. 写好服务之间的数据调用逻辑
4. 写前端页面，能操作三个服务

---



## 质量检验管理系统流程图（文字版/思维图）

```
+-------------------+          +-------------------+          +-------------------+
|                   |          |                   |          |                   |
| 采购到货服务      | -------->| 质量检验服务      | -------->| 不合格品提交服务  |
| Procurement       | 采购数据 | Inspection        | 检验数据 | Rejection         |
| (数据库：purchase)|          | (数据库：inspection)|        | (数据库：rejection)|
|                   |          |                   |          |                   |
+-------------------+          +-------------------+          +-------------------+
        ^                             ^                                ^
        |                             |                                |
        |                             |                                |
        |                             |                                |
        +--------- 前端维护界面 <------+--------------------------------+
                  (用户通过网页输入/查看数据)
                  Frontend (FastAPI + Jinja2)
```

---

### 文字解释

1. **采购到货服务（Procurement Service）**

   * 功能：记录采购到货信息（物料、数量、供应商、到货日期）
   * 数据存储在 `purchase_arrivals` 表
   * 提供接口给前端和质量检验服务读取

2. **质量检验服务（Inspection Service）**

   * 功能：记录每批采购物料的检验结果（合格/不合格数量、状态）
   * 数据存储在 `inspection_records` 表
   * 调用采购到货服务 API，获取采购数据
   * 提供接口给前端和不合格品服务读取

3. **不合格品提交服务（Rejection Service）**

   * 功能：记录不合格品的详细信息和原因
   * 数据存储在 `rejection_records` 表
   * 调用质量检验服务 API，获取检验记录
   * 提供接口给前端查看/操作

4. **前端维护界面（Frontend Service）**

   * 用户可以：

     * 添加采购到货记录
     * 添加质量检验记录
     * 添加不合格品记录
   * 通过 API 调用各服务接口
   * 页面显示数据、方便用户操作

---

### 🔑 核心思想

* **数据流顺序**：采购 → 检验 → 不合格品
* **服务独立性**：每个服务只管自己数据库
* **接口通信**：服务间通过 REST API 交互
* **前端统一入口**：一个网页管理系统

---

